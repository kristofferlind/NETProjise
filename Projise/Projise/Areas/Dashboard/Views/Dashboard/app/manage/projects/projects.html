<div class="grid">
    <div class="grid-3-3">
        <h1>Manage projects</h1>
    </div>
    <div class="grid-3-3" ng-show="!user.activeProject">
        <p><b>Welcome</b>, you need to create and activate a project to access the other features. Create one now by clicking <button class="button button-primary button-small"><i class="fa fa-plus"></i></button> to the right of My projects.</p>
    </div>
    <section class="grid-1-3">
        <h2>My projects</h2>
        <ul class="list-toolbar">
            <li><a tooltip="Create project" class="button button-primary button-small" ng-click="Project.create()"><i class="fa fa-plus"></i></a></li>
        </ul>
        <table class="table table-horizontal">
            <tr ng-repeat="(projectId, project) in Project.all()">
                <td><b>{{project.name}}: </b>{{project.description}}</td>
                <td class="button-group-inline"><button tooltip="Activate project" ng-disabled="project._id === Project.activeProjectId()" class="button button-success button-small" ng-click="Project.activate(project)"><i class="fa fa-check"></i></button>
                <button tooltip="Edit project" class="button button-secondary button-small" ng-click="Project.update(project)"><i class="fa fa-cog"></i></button>
                <button tooltip="Delete project" class="button button-small button-error" confirm-dialog confirm-id="projectId" confirm-message="Are you sure you want to delete this project and all it's data?" on-confirm="Project.delete(project)"><i class="fa fa-trash-o"></i></button></td>
            </tr>
        </table>


    </section>
    <section class="grid-1-3">
        <h2>Project users</h2>
        <ul class="list-toolbar">
            <li><a tooltip="Invite user" ng-disabled="!user.activeProject" class="button button-primary button-small" ng-click="Project.Users.add()"><i class="fa fa-plus"></i></a></li>
        </ul>
        <table class="table table-horizontal">
            <tr ng-repeat="user in Project.Users.all()">
                <td>{{user.userName}}</td>
                <!--<td>{{user.email}}</td>-->
                <td class="button-group-inline"><button tooltip="Remove user" class="button button-small button-error" confirm-dialog confirm-id="teamId" confirm-message="Are you sure you want to remove this member?" on-confirm="Project.Users.remove(user)"><i class="fa fa-trash-o"></i></button></td>
            </tr>
        </table>
    </section>
    <section class="grid-1-3">
        <h2>My teams</h2>
        <table class="table table-horizontal">
            <tr ng-repeat="team in Team.all()">
                <td><b>{{team.name}}: </b>{{team.description}}</td>
                <td class="button-group-inline">
                <button tooltip="Add users to project" class="button button-small button-success" ng-click="Project.Teams.add(team)"><i class="fa fa-users"></i></button></td>
            </tr>
        </table>
    </section>
</div>
